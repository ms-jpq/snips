snippet prelude
  #!/usr/bin/env bash

  set -eu
  set -o pipefail
  shopt -s globstar nullglob


  cd "\$(dirname "\$0")" || exit 1


  ${0:exec}

snippet readarray_1
alias ra1
  readarray -t -d \$'\\n' ${0:ARRAY} < <(${1:CMD})

snippet readarray_2
alias ra2
  readarray -t -d \$'\\n' ${0:ARRAY} <<< "\$${1:VAR}"

snippet array
  ${0:ARRAY}=(
    ${1:VAR}
  )

snippet for_array
alias fa
  for "\$${1:var}" in "\${${0:ARRAY}[@]}"
  do
    ${2:...}
  done
